#!/bin/sh
set -e
cd "`dirname \"$0\"`/.."

./script/generate_language java

cd clients/java
mvn package

cd ../../test/java
echo "compiling test class..."
javac -classpath .:"../../clients/java/target/swagger-java-client-1.0.0.jar" basic.java
echo "running tests"
java -classpath .:"../../clients/java/target/swagger-java-client-1.0.0.jar":"../../clients/java/target/lib/*" Basic
